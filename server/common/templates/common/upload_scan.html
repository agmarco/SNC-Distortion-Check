{% extends "base.html" %}

{% load common %}

{% block styles %}
  <link rel="stylesheet" href="{% webpack 'upload_scan.css' %}">
{% endblock %}

{% block breadcrumbs %}
  <a href="{% url 'landing' %}">Home</a>
  {% include 'includes/breadcrumb_sep.html' %}
{% endblock %}

{% block content %}
  <div id="upload-scan-app"></div>
{% endblock %}

{% block scripts %}
  {% chunk_manifest %}
  {% manifest %}
  <script src="{% webpack 'vendor.js' %}"></script>
  <script>
    var MACHINES = {{ machines_json|safe }};
    var SEQUENCES = {{ sequences_json|safe }};
    var PHANTOMS = {{ phantoms_json|safe }};
    var CANCEL_URL = "{% url 'landing' %}";
    var FORM_DATA = {% if form_data %}{{ form_data|safe }}{% else %}null{% endif %};
    var FORM_FILES = {% if form_files %}{{ form_files|safe }}{% else %}null{% endif %};
    var FORM_ERRORS = {% if form_errors %}{{ form_errors|safe }}{% else %}null{% endif %};
    {% TODO %}
    var INITIAL_MACHINE_PK = {% if request.GET.machine %}{{ request.GET.machine }}{% else %}null{% endif %};
    var INITIAL_SEQUENCE_PK = {% if request.GET.sequence %}{{ request.GET.sequence }}{% else %}null{% endif %};
  </script>
  <script src="{% webpack 'upload_scan.js' %}"></script>
{% endblock %}
